/*
 * toaberlin.css
 * (c) 2013 maciej(at)canadel(dot)ee, guillaume(at)toaberlin(dot)com
 *
 *      built using LESS
 *      http://leafo.net/lessphp
 *
 */

// # global reset
@import 'reset.less';

// # less variables
@color-text: #000;
@color-text-gray: #646464;
@color-text-gray-dark: #5A5A5A;
//#454543
@color-text-hero-submenu: #494949;
@color-bg: #fff;
@color-border: #DEDEDE;
@color-border-dark: #ccc;
@color-red: #DC142C;
@color-red-light: #FC354C;
@color-red-dark: #711e2a;

@color-bg-gray: #FBFBF9;
@color-bg-gray-dark: #F4F4F3;
@color-bg-hero: #EFEDEC;
@color-bg-red: #FFF5F2;

@color-green: #0ABFBC;
@color-green-dark: #137475;

@color-retro-bg: #A19F73;
@color-retro-text: #ffffff;

@font-minion: 'minion-pro', serif;
@font-proxima: 'proxima-nova', sans-serif;

@images-layout: '../images/layout';
@images-content: '../images/content';

@width-layout: 960px;
@height-header: 151px;

// # global definitions, classes and less mixins
.fleft {	float: left		}
.fright {	float: right		}
.tleft {	text-align: left }
.tcenter { 	text-align: center	}
.tright {	text-align: right }
.titalic {	font-style: italic	}
.tupper {	text-transform: uppercase	}
.tnouper {	text-transform: none	}
.mauto {	margin: 0 auto		}

.separator {margin-top: 20px;}
.negmargin-top {   
	margin-top: -9px;
	z-index: 10 !important;
}
.relative {	position: relative	}
.absolute() {				// L8R: finetune those methods :)
	position: absolute;
}
.absolute(@top, @left: 0) {
	.absolute;
	top: @top + px;
	left: @left + px;
}
.topleft(@top, @left) {
	top: @top;
	left: @left;
}
.topright(@top, @right) {
	top: @top;
	right: @right;
}
.bottomleft(@bottom, @left) {
	bottom: @bottom;
	left: @left;
}
.bottomright(@bottom, @right) {
	bottom: @bottom;
	right: @right;
}

.disblock() {
	display: block;
}
.disblock(@height) {
	.disblock;
	height: @height;
}
.disblock(@width, @height) {
	.disblock;
	width: @width;
	height: @height;
}

.bglay(@image) {
	background: no-repeat url(@{images-layout}/@{image});
}
.nobg {
	background: none !important;
}

.ffamily(@font) {
	font-family: @font, sans-serif;
}
.ffamily(@size, @font) {
	.ffamily(@font);
	font-size: @size;
}
.ffamily(@size, @font, @weight) {
	.ffamily(@size, @font);
	font-weight: @weight;
}

.content-box-inner {padding: 25px;}
.uborder(@color) {	// "U" shape border
	border: none;
	border-left: 1px solid @color;
	border-right: 1px solid @color;
	border-bottom: 1px solid @color;
}
.crevborder(@colorr) {	// "C-reversed" shape border
	border: none;
	border-top: 1px solid @colorr;
	border-bottom: 1px solid @colorr;
	border-right: 1px solid @colorr;
}
.formborder {
	border: 1px solid @color-border;

	color: @color-text-gray-dark;
	background-color: @color-bg-gray;
}

.c3transition(@duration) {
	-o-transition: @duration;
	-ms-transition: @duration;
	-moz-transition: @duration;
	-webkit-transition: @duration;
	transition: @duration;
}
.c3rotate(@amount) {
	-webkit-transform:rotate(@amount);
	-moz-transform:rotate(@amount);
	-ms-transform:rotate(@amount);
	transform:rotate(@amount);
}
.c3appearance(@value) {
	-webkit-appearance: @value;
	-moz-appearance: @value;
	appearance: @value;
}

// # common (global) block elements
body {
	.tcenter;
	font: 17px 'Minion Pro', sans-serif;
	background-color: @color-bg;
}
a {
	.c3transition(800ms);	// ** applies to all possible content
}
a:hover {
	.c3transition(260ms);
}


#main {
	.tleft;
	.mauto;

	margin-top: 32px;
		width: @width-layout;
}
	#header {
		height: @height-header;

		#logo {
			.disblock(250px, @height-header);
			.bglay('logo_top.gif');
			.mauto;
		}

        #loginbox { 
            position: fixed;
            .topleft(0, 0);
            width: 100%;
            z-index: 1000;
            height: 0;
        
            .login-bg {
                display: block;
                position: absolute;
                width: 100%;
                height: 30px;
                background: #FFF;
                top: 0;
                left: 0;
                z-index: -10;
                border-bottom: 1px solid #DEDEDE;
            }
            
            p {
                width: @width-layout - 24px;
                padding-top: 6px;
                .ffamily(14px, @font-proxima);
                .mauto;
                .tright;
                
                a {
                    color: @color-red;
                    text-decoration: none;
                
                    &:hover {
                        color: @color-text;
                    }
                    
                }
            }
        
        }
    
    	#header_menu {
        z-index: 1001;
        .ffamily(15px, @font-proxima, bold);
		.tupper;
		.tright;
        .bottomleft(0, 0);
        
        width: 100%;
        position: fixed;
		border-top: 1px solid @color-border;
        background-color: @color-bg-gray;

		ul {
			.fright;
			@padding-local-menu: 7px;
			@padding-local-button: 7px;

			padding: @padding-local-menu 0;
            margin: 11px 7%;

			li {
				.fleft;
				margin-left: 3px;	// FIXME: finetune; though it kind of cannot be done properly :(

				a {
					padding: @padding-local-button 10px;

					text-decoration: none;
					color: @color-text;

					// states in proper sequence; highlighted at bottom so it overrides anything else
					&.selected, &:hover {
						color: @color-red;
					}

					&.highlighted {
						color: @color-bg;
						background-color: @color-red;
                        margin-left: 7px;
						&:hover {
							background: @color-text;
						}
					}
				}
			}
		}
	}

    
	}

    #flashMessage {
        position: fixed;
        width: 100%;
        z-index: 1002;
        .tcenter;
        .topleft(17px, 0);
    
        .flashMessage_container {
            .ffamily(15px, @font-proxima, 600);
            
            display: inline-block;
            padding: 5px 14px;
            border: 1px solid @color-text;
            background: @color-text-gray;
            color: @color-bg;
        
            &.error{
                background: @color-red;
                border: 1px solid @color-red-dark;
            }
            &.notice, &.info{
                background: @color-green;
                border: 1px solid @color-green-dark;
            }
        }
    }

	#content {
  
		// local scope variables for hero and submenus
		@height-local-menu: 33px;
		@height-local-media: 480px;
        margin-top: 18px;


		// # hero unit block
		#hero {

			//.disblock(@height-local-media + @height-local-menu);
			.disblock(@height-local-media);
            .relative;
            width: @width-layout + 2;
        
            #hero_background, #hero_foreground {
                .disblock(100%, 100%);
                .absolute;
                .topright(0, 0);
            }
        
            #hero_background {z-index: -10;}
            #hero_foreground {z-index: 0;}
        
            h1 {
                color: @color-text;
                .absolute;
                .topleft(32%, 15px);
            
                span {
                    font-size: 28px;
                    display: inline-block;
                    margin-bottom: 1px;
                    padding: 6px 15px;
                    background: @color-bg;
                    font-style: normal;
                
                    .tupper;
                }
                
                &:after {
                    content:"";
                    height: 0;
                    border-top: none;
                }
            }

            span.photo_credit {
                .absolute;
                .bottomright(5px,10px);
                .ffamily(13px, @font-minion);
            
                font-style: italic;
                color: @color-bg;
                filter : alpha(opacity=60);
                opacity: 0.6;
            
                
                a {
                    text-decoration: none;
                    &:hover {color: @color-bg;}
                }
            }
            
			#hero_media { height: @height-local-media }	// TODO: change it to either hero_background or hero_foreground :)
		} // end #hero

		#hero_submenu {
			.ffamily(16px, @font-proxima);
            .relative;

			@padding-local-top: 7px;

			height: @height-local-menu;

        
            #submenu-bg {
                border: 1px solid @color-border;
                background-color: @color-bg-hero;
                width: 100%;
                height: 100%;
                
                .absolute;
                .topleft(0, 0);
            }
        
            #submenu-content {
                z-index: 1000;
            
                .absolute;
                .topleft(7px, 0);

                h3, ul { .fleft }
    
                h3 {
                    .tupper;
    
                    margin: 0 8px 0 12px;
                    padding-right: 16px;
    
                    font-weight: bold;
    
                    background: no-repeat url(@{images-layout}/arrow.png) right 4px;
                }
    
                ul {
    
                    li {
                        .fleft;
                        margin: 0 11px;
    
                        a {
                            color: @color-text-hero-submenu;
                            text-decoration: none;
    
                            &:hover, &.selected {
    
                                color: @color-red;
                            }
                        }
                    }
                }
			}
		} // & end hero_submenu
    
        .multicolumns {
            -webkit-column-count: 2;
            -moz-column-count: 2;
            column-count: 2;
            -webkit-column-gap: 25px;
            -moz-column-gap: 25px;
            column-gap: 25px;
        }
    
        .bicolumn {
        
            .column {
                border: 1px solid @color-border;
                width: 413px;
                margin: 5px 15px;
            
                &.fright { margin-right: 0; }
                &.fleft { margin-left: 0; }
            }
        }
    
        a.slider_nav {
                    background: #ffffff;
                    border: 1px solid @color-border;
                    display: block;
                    width: 40px;
                    height: 40px;
                    .absolute;
                
                    &:hover {border: 1px solid @color-text;}
                
                    &.slider_previous {
                        background: @color-bg no-repeat url(@{images-layout}/arrow_prev.gif) center center;
                        &:hover {background: @color-text no-repeat url(@{images-layout}/arrow_prev_white.gif) center center;}
                    }
                    &.slider_next {
                        background: @color-bg no-repeat url(@{images-layout}/arrow_next.gif) center center;
                        &:hover {background: @color-text no-repeat url(@{images-layout}/arrow_next_white.gif) center center;}
                    }
                
                }
	

		// ! common for known blocks
		.listing, .textual { margin-top: 50px }

		// > listing block
		.listing {
			.tcenter;

			// the fancy widget
			h1, h2, .listing_widget { .tleft }
			.listing_widget {
				.relative;

				@height-local-widget: 30px;
				height: @height-local-widget;

				background: @color-bg-gray no-repeat url(@{images-layout}/timeline.gif) top center;
                
				a {
					.disblock(29px, @height-local-widget - 1px);
					border: 1px solid @color-border-dark;
					&:hover {border: 1px solid @color-text;}
				}

				.listing_widget_next {
					.fright;

					background: @color-bg no-repeat url(@{images-layout}/arrow_next.gif) center center;
					&:hover {background: @color-text no-repeat url(@{images-layout}/arrow_next_white.gif) center center;}
				}
				.listing_widget_prev {
					.fleft;

					background: @color-bg no-repeat url(@{images-layout}/arrow_prev.gif) center center;
					&:hover {background: @color-text no-repeat url(@{images-layout}/arrow_prev_white.gif) center center;}
				}
			
				&.upper {
					.negmargin-top;
					border-top: 1px solid @color-border-dark;
                    margin-bottom: 30px;

					a {
						height: @height-local-widget;
						.uborder(@color-border-dark);
					}
				}

				// TODO: redo it in the manner pixprapromo is built
				.measure {
					@width-local-measure: 152px;
					@left-local-start: 180px;
					.disblock(@width-local-measure, @height-local-widget);

					background-color: rgba(255, 0, 0, .5);

					.absolute;

					&.pos0 {
						left: @left-local-start;
					}
					&.pos1 {
						left: @left-local-start + @width-local-measure;
					}
					&.pos2 {
						left: @left-local-start + 2 * @width-local-measure;
					}
					&.pos3 {
						left: @left-local-start + 3 * @width-local-measure;
					}
					&.pos4 {
						left: @left-local-start + 4 * @width-local-measure;
					}



					// slight modifications for the widget on top
				}
			}
        
            //Links to the categories
            ul.event-categories {
                margin-bottom: 7px;
                .tright;
                .ffamily(14px, @font-proxima);
            
                li {
                    display: inline-block;
                    border: 1px solid @color-bg-hero;
                    padding: 4px 8px 3px 8px;
                    
                    a {
                        text-decoration: none;
                        color: @color-text;
                    
                        &:hover { color: @color-red; }
                    }
                
                    &.selected {
                        background: @color-bg-hero;
                        border: 1px solid @color-border;
                    }
                }
            }

			// the entire list
			ul.listing_list {
				.disblock;
				@padding-local-leftright: 1px;

				margin-top: 7px;
				padding: 0 @padding-local-leftright;

				li {
					@height-local-li: 126px;
					@width-local-photo: 174px;

					margin-bottom: 18px;

					&, & a.big_link {

						.disblock(@height-local-li);
					}

					// hover effects
					span.photo img, span.data { .c3transition(800ms) }
					a.big_link:hover {
                    
                        span.data {
                            background:@color-bg;
                            .c3transition(260ms)
                        }
						span.photo img {
                            filter : alpha(opacity=60);
				            opacity: 0.6;
                            .c3transition(260ms)
                        }
					}


					span.photo, span.data, { .fleft }

					span.photo {
						.disblock(@width-local-photo, @height-local-li);
						.relative;
						.ffamily(60px, @font-proxima, 600);

						color: @color-bg-gray;
                        overflow: hidden;
                    
                        img {
                            .absolute;
                            .topleft(0, 0);
                            z-index: 0;
                            filter : alpha(opacity=80);
                            opacity: 0.8;
                        }

						span.time {
							.absolute;
							.bottomright(0, 2px);

							margin-bottom: -12px;	// ** EXPERIMENTAL, test cross-browser
                            z-index: 10;
						}
                    
                        span.bg-color {
                            .absolute;
							.topleft(0, 0);
                            .disblock(100%, 100%);
                            
                            z-index: -10;
                        }
					}
					span.data {

						// we're removing 1 from width and 2 from height for the border size
						.disblock(@width-layout - 2 * @padding-local-leftright - @width-local-photo - 1, @height-local-li - 2);
						.crevborder(@color-border-dark);
						.tleft;
						.relative;

						background-color: @color-bg-gray;

						span {
							.absolute;
							@position-local-leftright: 14px;
							@position-local-topbottom: 14px;

							line-height: 1em;
							color: @color-text;

							&.title, &.desc {
                                width: 520px;
                                overflow: hidden;
                            }	// ** hard-limiting widths here
							&.title, &.time { .ffamily(15px, @font-proxima, bold) }
							&.time, &.address { font-size: 16px }
							&.title {
								.tupper;
								.topleft(@position-local-topbottom, @position-local-leftright);
                                white-space: nowrap;
							}
							&.hosted {
								.titalic;
								.topleft(33px, @position-local-leftright);

								color: @color-text-gray;

								font-size: 14px;

								b {
									color: @color-red;
									text-decoration: underline;
									cursor: pointer;
								}
							}
							&.desc {
								.topleft(51px, @position-local-leftright);

								color: @color-text-gray-dark;

								line-height: 1.25em;
                                max-height: 63px;
                                overflow: hidden;
							}
							&.address, &.time { .tright }
							&.address {
								.topright(@position-local-topbottom, @position-local-leftright);

								line-height: 1.2em;
                                max-width: 225px;
                                white-space: nowrap;
                                overflow: hidden;
                            
							}
							&.time {
								.bottomright(@position-local-topbottom, @position-local-leftright);

								color: @color-red;
							}
						}
					}
				}
			}
		} // & end listing block

		// > textual block
		.textual {
			
			hr {
				border: none;
				border-bottom: 1px solid @color-border-dark;
				margin: 90px 30%;
			}

			h3 {
				.ffamily(16px, @font-proxima, bold);
				margin: 0.2em 0 .5em 0;
			}
			p {
				margin-bottom: 0.8em;
				color: @color-text-hero-submenu;
				line-height: 1.36em;

				text-align: justify;


				&.lead {
					color: @color-text;
					font-size: 26px;
					.tleft;
				}
			
				&.tright { text-align: right; }
				&.tleft { text-align: left; }
				&.tcenter { text-align: center; }
				
			}
			
			ul.bullet {
				list-style-type: square;
				list-style-position: inside;
				color: @color-text-hero-submenu;
				line-height: 1.36em;
				margin-bottom: 0.8em;
			}

			// TODO: move these tickets to some other wrapper div later... ;)
			ul.tickets_list {

				.disblock;

				li {
					@height-local-li: 183px;		// ** width is the same as @width-layout
					@padding-local-leftright: 22px;
					@padding-local-topbottom: 27px;

					.formborder;
					.relative;
					.disblock(@width-layout - 2 * @padding-local-leftright - 2px, @height-local-li - 2 * @padding-local-topbottom - 2px);

					padding: @padding-local-topbottom @padding-local-leftright;
					margin-bottom: 14px;

					// inner elements
					span {

						&.overlay-container {
							.absolute(-1, -1);
							width: 960px;
							height: 183px;
							display: table;
							.tcenter;

							z-index: 10;
							background: rgba(0, 0, 0, .7);
						
							span.overlay {
								display: table-cell;
								vertical-align: middle;
								margin-bottom: -5px;
							
								span {
									.titalic;
	
									color: @color-bg;
									font-size: 21px;
									display: block;
								}
							}

						}
						&.title {
							.ffamily(16px, @font-proxima, bold);
							.tupper;

							color: @color-text;

							.fright {
								margin-left: 40px;
							}
						}
						&.clear, &.line, &.desc { .disblock }
						&.line {
							border-bottom: 1px solid @color-border-dark;
						}
						&.desc {
							width: 502px;
							margin-top: 10px;

							line-height: 1.4em;
						}
						&.book {
							.absolute;
							.bottomright(@padding-local-topbottom, @padding-local-leftright);

							a {
								font-size: 15px;

							}
						}
					}

				}
			}

		} // & end textual block

		// > forms block
		.forms {

			h2 {
				margin-bottom: 20px;
			}
			
			h3 {
				.ffamily(16px, @font-proxima, bold);
				.tupper;

				margin-bottom: 6px;
			}

			form {
				@width-local-form: 542px;
				@padding-leftright-fields: 10px;
				@padding-topbottom-fields: 6px;

				width: @width-local-form;

				// TODO: play with selects:
				// http://cssdeck.com/labs/styling-select-box-with-css3
				// http://lea.verou.me/2011/03/custom-select-drop-downs-with-css3/

				// some form field defaults
				select, textarea, input[type=text] {			// ** CSS3 selectors sadly :/
					.ffamily(18px, @font-minion);
					.formborder;

					padding: @padding-topbottom-fields @padding-leftright-fields;
					-webkit-border-radius: 0;
					border-radius: 0;
				}

				// text errors
				.error_list {

					color: @color-red;
					font-style: italic;
					padding: 0.28em 0;
				}

				// sections
				.section_block {
					margin-bottom: 97px;

					&.last {
						margin-bottom: 36px;
					}
				}

				.section {
					margin-bottom: 8px;

					// fancy dropdowns
					span {
						display: inline-block;
						height: 100%;
					}
					&.dropdown, .dropdown {

						// TODO: play with "web/css/formselectfix.css" updating with proper paddings to ensure Safari compat

						.relative;

						select {
							.c3appearance(none);
							outline: none;
							display: inline-block;

							cursor: pointer;
						}

						&:before, &:after {
							.absolute;

							pointer-events: none;

							content: '';
							background-color: @color-text;
							background-repeat: no-repeat;
						}

						&.dropdown_small {	// ** used for time selects

							select {
								padding: 2px 40px 2px 8px;
								margin: 0 8px;
								.relative;
							}

							&:before, &:after {

								.disblock(34px, 100%);
								background-image: url(@{images-layout}/select_bg_small.png);
							}

							&:before {
								.topright(0, 8);
							}
							&:after {
								.absolute(0, 42);	// ** NOTICE: this can be very tricky on some browsers
							}
						}
						&.dropdown_big {	// ** used for category select

							&:before {
								.disblock(41px, 100%);
								.topright(0, 2px);

								background-image: url(@{images-layout}/select_bg_big.png);
							}
						}
					}

					// global sections
					&.long {

						select, textarea, input[type=text] {
							.disblock;
							width: @width-local-form - 2px;		// ** 2 px for left/right borders
						}

						textarea, input[type=text] {	// for some reason input is stubborn

							width:  @width-local-form - 4px - (2 * @padding-leftright-fields);
						}
					}

					// individual sections
					&.description {
						textarea { height: 320px - 4px - (2 * @padding-topbottom-fields); }
					}
					&.upload {
						.formborder;
						.tcenter;

						width: @width-local-form - 4px;

						margin-top: 44px;
						padding:0 0 10px 0;
                    
                        img {
                            max-width: 540px;
                            margin: -1px;
                        }

						p {
							margin-top: 5px;

							font-size: 13px;
							line-height: 1.1em;
						}
					}
					&.color {

						input {
							width: 210px - 2 * @padding-leftright-fields - 2px;
							// TODO: consider proper left padding for the background image, when adding the picker
						}
					}
					&.city {
						.fleft input {
							width: 100px - 2 * @padding-leftright-fields - 2px;
						}
						.fright input {
							width: 430px - 2 * @padding-leftright-fields - 2px;
						}
					}
					&.price {

						.fleft input {
							width: 154px - 2 * @padding-leftright-fields - 2px;

							// ** many declarations not to kill the original background color which can differ here
							background-image: url(@{images-layout}/euro.gif);
							background-repeat: no-repeat;
							background-position: 130px 13px;

							// TODO: try to text-align right and add right padding for the euro sign
						}
						.fright {

							p { font-size: 17px; }
							input {
								.tright;
								width: 68px - 2 * @padding-leftright-fields - 2px;
							}

						}
					}

					// errors
					&.error, .error {

						// TODO: find what form->renderGlobalErrors() renders and add here too

						// fields
						select, textarea, input[type=text] {

							border-color: @color-red;
						}
					}
				}
			}
			
		} // & end forms block

		// > content typography defaults
		h1 {
			.ffamily(46px, @font-minion);
			.tupper;
			position: relative;
			z-index: -10;
			line-height: 42px;

			span {
				.tnouper;
				.titalic;
				font-size: 28px;
				font-weight: normal;
				display: inline-block;
				vertical-align: bottom;
                line-height: 36px;
			}

			&:after {
				content: "";
				width: 100%;
				height: 8px;
				background: #fff;
				border-top: 1px solid @color-border-dark;
				position: absolute;
				bottom: 0;
				display: inline-block;
				left: 0;
			}
		}

		h2 {
			.ffamily(32px, @font-minion);
			.tupper;
		}

		p {

			&.notice {
				.titalic;
			}

			a {
				color: @color-red;
				text-decoration: underline;

				&:hover {
					text-decoration: none;
					color: @color-red-light;
				}
			}
		}
		small { font-size: smaller; }
		big { font-size: larger; }
		strong { font-weight: 700; }
		em { font-style: italic; }
	
		span.seemore, a.seemore {
			display: block;
			margin-bottom: 60px;
			.ffamily(14px, @font-proxima);
			.tright;
			text-decoration: none;
			color: @color-text;
			
			&:hover { color: @color-red; }
		}

		a.button_red, input.button_red, a.button_custom {

			.ffamily(21px, @font-proxima, bold);
			.tupper;

			padding: 6px 14px;

			color: @color-bg;
			background-color: @color-red;	// ** to be overriden in button_custom, inside single event page
			border: none;

			text-decoration: none;
			cursor: pointer;
			
			&:hover {
				color: @color-bg;
				background: @color-text;
			}
		}
		a.button_black {

			.ffamily(17px, @font-minion);
			.tupper;

			padding: 9px 15px;
			border: 1px solid @color-text;
			display: inline-block;

			color: @color-bg;
			background: @color-text;

			cursor: pointer;

			font-weight: normal;
			text-decoration: none;
			
			&:hover {
				color: #000;
				background: #fff;
				border: 1px solid @color-border-dark;
			}

			&.button_black_small {

				padding: 7px 19px;
				font-size: 10px;
			}
		}
	

		&.screen_about_contact .textual .fourcolumns {
			margin-top: 80px;
			.tcenter;
		
			.element {
				vertical-align: top;
				display: inline-block;
				width: 215px;
				height: 180px;
                padding: 10px;
				border: 1px solid @color-border;
			
				h3 {.tupper; }
                h2 { font-size: 22px;}
				p { .tcenter; }
			}
		}
	
		.location_slider {
			.relative;
		
			.slider_content{
				white-space: nowrap;
				overflow: hidden;
			}
        
            a.slider_nav {
                
                    &.slider_previous {
                        .topleft(63px, -6px);
                    }
                    &.slider_next {
                        .topright(63px, -6px);
                    }
                
                }
        
		}
		
		.table {
			display: table;
			border-collapse: separate;
			border-spacing: 15px 5px;
			margin-left: -15px;
			table-layout: fixed;
		
			.three-columns {
				display: table-cell;
				border: 1px solid @color-border;
				width: 308px;
			
				.three-columns-header {
					.relative;
					
					img {
						margin: -1px;
						width: 310px;
					}
			
					h3 {
						.absolute;
						.bottomleft(15px, 15px);
						padding: 0.2em 0.6em;
						background: #fff;
					}
				}
				
				.content-box-inner {padding: 15px;}
		
				p {font-size: 21px;}
				ul {
					font-size: 15px;
				
					li {
						padding: 0.3em 0.6em 0.2em 0.6em;
						background: @color-bg-hero;
						margin: 1px;
						.fleft;
					}
				}
			}
		}
	
		#edition-2013 {
			background: @color-retro-bg;
			color: @color-retro-text;
			.negmargin-top;
			.content-box-inner;
		
			p { color: @color-retro-text;}
		
			#about-2013 {
			
				#theme-description {
					width: 520px;
					margin-right: 70px;
					.fleft;
				}
				
				#sidebar-expect {
					width: 240px;
					background: @color-retro-text;
					color: @color-retro-bg;
					.fleft;
					.tcenter;
					.content-box-inner;
				}
			}
		
			#locations-2013 {
				.separator;
			
				.illustration-kater {
					.relative;
				
					#kater-address {
						background: @color-retro-text;
						border: 2px solid @color-retro-bg;
						.absolute;
						.bottomright(20px, 20px);
						.content-box-inner;
					
						h3, p {
							color: @color-retro-bg;
							.tcenter;
						}
					}
					
					h2 {
						padding: 0.2em 0.4em;
						background: @color-retro-text;
						color: @color-retro-bg;
						.absolute;
						.bottomleft(30px, 20px);
					}
				}
			
				#kater-description {
					.content-box-inner;
					background: @color-retro-text;
					margin-top: -8px;
					
					p {color: @color-retro-bg;}
				}
			}
		}
	
		#sponsorpackages {
		
			.tablecolumn {
				width: 304px;
				display: inline-block;
				border: 1px solid @color-border;
				vertical-align: top;
				margin: 40px 4px;
				background: @color-bg-gray-dark;
				.tcenter;
			
				&.mainbundle h2 {color: @color-red;}
			
				h2 {
					padding: 0.5em 0;
					margin:0;
					font-size: 31px;
					line-height: 24px;
					text-transform: none;
					color: @color-text-hero-submenu;
				}
			
				.bundle {
					.ffamily(31px, @font-minion);
					font-style: italic;
					background: #FBFBF9;
					border: 1px solid #CCC;
					padding: 1em 0;
					color: @color-text-hero-submenu;
					line-height: 24px;
					width: 310px;
					margin-left: -4px;  
				}
			
				ul {
					margin: 0;
					padding: 0 10px 0 15px;
					
					li {
						line-height: 1.1em;
						.ffamily(14px, @font-proxima);
						margin: 1.8em 0 0.6em 0;
						list-style-type: none;
						
						&.item{
							text-align: left;
							margin: 0.95em 0;
							
							&.active {
								color: #212121;
								
								&:before {
									color: #21B314;
									content: "\2713";
									width: 1.2em;
									display: block;
									height: 1.4em;
									.fleft;
								}
							}
						
							&.inactive {
								color: rgba(0,0,0,0.2);
								
								&:before{
									color: #FFCCCC;
									content: "\2717";
									width: 1.2em;
									display: inline-block;
								}
							}
						}
				
					}
			
				}
				
				.button_black {margin: 10px 0 30px 0;}
			
			} 
			
			p.lead {.tcenter;}
		
		}
	
	
		.press-publications {
	
			.press-review {
				width: 560px;
				border: 1px solid @color-border;
				.fleft;
				
				.press-review-content {
					overflow-y: scroll;
					.content-box-inner;
					height: 360px;
				
					.press-coverage {
						margin-bottom: 5px;
						
						a {
							text-decoration: none;
							border: 1px solid @color-border;
							border-left: 4px solid @color-red-light;
							padding: 7px 10px 7px 15px;
							display: block;
							background: @color-bg-gray;
							color: @color-text;
							
							.date {
								font-style: italic;
								font-size: 15px;
								color: @color-text-gray-dark;
								margin-top: -8px;
							}
												
							&:hover {
								border-left: 4px solid @color-red;
								background: #fff;
								color: @color-red;
							}
							

						}
					}
				}
				
				.press-review-header {
					.relative;
                    line-height: 0;
					
					img { margin:-1px; }
					
					h2 {
						.absolute;
						.bottomleft(30px, 20px);
						padding: 0.1em 0.5em;
						background: #fff;
                        line-height: normal;
					}
				}
			}
			
			.sidebar-contact {
				width: 320px;
				.fright;
				.content-box-inner;
				border: 1px solid @color-border;
				.tcenter;
				p {.tcenter;}
			}
		}
	
		.logo-download {
			width: 470px;
			margin: 10px;
			.fleft;
			.tcenter;
			.relative;
			
			&.first { margin-left: 0; }
			&.last {
				margin-right: 0;
				h3 {color: #fff;}
			}
			
			img {border: 1px solid @color-border-dark;}
		
			h3 {
				.tupper;
				.absolute;
				.topright(440px, 15px);
			}
			a.button_black {margin: 2px;}
		}
	
		.photo_gallery a {
			.relative;
			margin-right: 6px;
			display: block;
			.fleft;
			
			&.third { margin-right: 0;}
			
			div.button{
				display: inline-block;
				width: 100px;
				background: @color-bg;
				color: @color-text;
				padding: 7px 19px;
				border: 1px solid @color-border;
				.tcenter;
				.absolute;
				.bottomleft(20px, 88px);
				.ffamily(10px, @font-minion);
				.tupper;
				filter : alpha(opacity=30);
				opacity: 0.3;
				.c3transition(800ms);
				
			}
			&:hover {
				div.button {
					.c3transition(260ms);
					filter : alpha(opacity=100);
					opacity: 1;
				}
			}   
		}
		
		.sponsors_logos {
            margin-top: -7px;
            margin-bottom: 60px;
		
			a {
				display: inline-block;
				border: 1px solid @color-bg;
				&:hover {
					border: 1px solid @color-border;
				}
			}
		}
	
		.story_timeline {
			.timeline {
				border-left: 6px solid @color-red;
				margin-left: 40px;
				width: 640px;
				padding: 1px 0;
				
				.milestone {
					margin: 1em 0 4em 0;
					position: relative;
				
					.milestone-pointer {
						position: absolute;
						top: 50%;
						left: -13px;
						background: @color-red;
						height: 12px;
						width: 12px;
						border-radius: 50%;
						border: 5px solid #fff;
						margin-top: -24px;
					}
					.milestone-line {
						background: @color-red;
						height: 2px;
						position: absolute;
						top: 50%;
						left: 0;
						width: 90px;
						margin-top: -14px;
					}
					.milestone-content {
						margin-left: 90px;
						background: #ffffff;
						border: 1px solid @color-border;
					
						p, h3 {
							margin:0 0 0.5em 0;
						}
						img {
							margin: -1px;
							width: 550px;
							height: auto;
						}
						.date {
							background: @color-bg-gray;
							font-size: smaller;
							font-style: italic;
							padding: 8px 15px;
							line-height: 1em;
							.tright;
						}
					}
				}
			
			}
		}

	} // & end #content

#footer {

	margin: 120px auto;
	
	#footer-sitemap {
		.mauto;
		.tleft;
        
		width: @width-layout;
		padding: 20px 0;
        border-top: 1px solid @color-border;
		
		.footer-column{
			width: 210px;
			.fleft;
			
			h4 {
                .ffamily(14px, @font-proxima, 800);
                .tupper;
			}
			
			ul {
				font-size: 15px;
				font-weight: 400;
				line-height: 1.4em;
				
				a {
					text-decoration: none;
					color: @color-text-gray-dark;
					
					&:hover { color: @color-red; }
				}
			}
			
		}
		
	}
}

// # content screens
// they apply to anything below #content div and can override or add certain unique looks
div.screen_home#content {
    
    .textual {
        
        .bicolumn {
            a.column {
                .relative;
                .content-box-inner;
                
                h3 { .tupper; }
                
                span.seemore {
                    .absolute;
                    .bottomright(8px, 14px);
                    margin-bottom: 0;
                }
                
                &:hover {
                    border: 1px solid @color-text;
                    
                    span.seemore {
                        color: @color-red;
                    }
                }
            }
        }
        
        &.slider-container {
            margin-top: 0;
            .relative;
            .tcenter;
            
            .swipe {
                .relative;
                margin-top: 80px;
                padding-top: 25px;
                padding-bottom: 20px;
                
                .slide {
                    display: inline-block;
                    vertical-align: top;
                    width: 876px;
                    padding: 0 42px;
                    white-space: normal;
                    
                    img { margin-bottom: 15px; }
                    
                    blockquote {
                        .tcenter;
                        
                        p {
                            .tcenter;
                            margin-bottom: 8px;
                            font-family: Times, Times New Roman, serif;
                            font-size: 32px;
                            line-height: 1.4em;
                            font-style: italic;
                            color: @color-text;   
                        }
                        
                        footer{
                            &:before{content: "\2014";}
                        }
                    }
                }
            }
                    
            .swipecontrol {

                a.slider_nav {   
                    &.slider_previous {
                        .topleft(80px, -6px);
                    }
                    &.slider_next {
                        .topright(80px, -6px);
                    }
                
                }
            }
        }
        
        .tumblr-posts{
            border-top: 1px solid @color-border;
            
            .three-columns.blog-entry {
                .relative;
                .fleft;
                width: 301px;
                height: 200px;
                overflow: hidden;
                margin: 15px 28px 15px 0;
                
                &:nth-child(3n) {margin-right: 0;}
                
                .post-content {
                    h1, h2, h3, ul {display: none;}
                    p {
                        
                        img {
                            z-index: 10;
                            display: inline-block;
                            min-height: 220px;
                            min-width: 342px;
                            margin: -10px -20px;
                            background: @color-text;
                            .tcenter;
                            .absolute;
                            .topleft(0,0);
                            
                        }
                    }
                }
                
                a.post-title {
                    .post-overlay {
                        width: 100%;
                        height: 100%;
                        z-index: 11;
                        .absolute;
                        .topleft(0,0);
                        background: @color-bg;
                        filter : alpha(opacity=70);
                        opacity: 0.7;
                        .c3transition(800ms);
                    }
                    
                    &:hover {
                        .post-overlay {
                            filter : alpha(opacity=10);
                            opacity: 0.1;
                            .c3transition(280ms);
                        }
                    }
                    
                    h1 {
                        padding: 10px;
                        font-size: 21px;
                        line-height: 28px;
                        color: @color-text;
                        z-index: 12;
                        .absolute;
                        width: 281px;
                        .bottomleft(0,0);
                        
                        &:after {
                            content='';
                            border-top: none;
                            width: 301px;
                            height: 8px;
                            background: @color-text;
                            
                        }
                    }
                }
            }
        }
    }
}


div.screen_host {	// host event (selection)

	.textual {

		h4 {

			.ffamily(64px, @font-proxima, 900);
			.tupper;
			line-height: .36em;

			margin-top: 100px;
		}
	}
}
div.screen_host_form {	// "edit" and "new" screens for the event

	#hero {
		margin-bottom: 36px;
	}
}

div.screen_user_home {
	&#content{
		.textual {
			.profile-basic-infos {
				.fleft;
				width: 50%;
				margin-right: 10%;
				
			}
			.profile-main-ticket{
				width: 280px;
				.fleft;
				.content-box-inner;
				border: 1px solid @color-border;
				.tcenter;
				
				p { .tcenter; }
			}
			
		}
	}
}

div.screen_event {
    
    #hero {
        
        #hero_foreground {
            
            .event-location {
                .absolute;
                .bottomright(14px, 18px);
                .tcenter;
                
                border: 2px solid @color-text;
                background: @color-bg;
                color: @color-text;
                padding: 8px 11px 11px 11px;
                min-width: 160px;
                max-width: 220px;
                min-height: 140px;
                max-height: 210px;
                
                h3 {
                    .tupper;
                    .ffamily(18px, @font-proxima, bold);
                    
                    margin-bottom: 0.6em;
                    
                }
                
                p {
                    .ffamily(17px, @font-minion);
                    
                    line-height: 1.1em;
                    color: @color-text-gray-dark;
                    
                    span {
                        line-height: 1.2em;
                        font-size: 18px;
                        color: @color-text;
                    }
                }
            }
        }
        
    }
	
	.textual {
		
		h1 {
			padding-right: 200px;
			
			span.time {
				font-size: 38px !important;
				margin-top: 5px;
				margin-right: -199px;
				.fright;
			}
		}
		
		.bicolumn {
			margin-top: 22px;
			margin-bottom: 85px;
			
			.column {
                .relative;
				
				&.fleft {
					width: 580px !important;
					
					.event-image {
						min-height: 85px;
						margin: -1px -1px -10px -1px;
						width: 582px;
						.relative;
						
						img {
							min-height: 85px;
							display: block;
							.mauto;
						}
						
						h2 {
							position: absolute;
							background: @color-bg;
							bottom: 20px;
							left: 14px;
							padding: 2px 12px;
						}
					}
                    
                    p.single-event-category {
                        .disblock;
                        .absolute;
                        .bottomright(5px, 10px);
                        .tright;
                        margin-bottom: 0 !important;
                        font-size: 16px;
                        color: @color-text-gray;
                        font-style: italic;
                    }
				}
				
				&.fright {
					width: 340px !important;
					.tcenter;
                    padding-bottom: 32px;
					
					h3 {.tupper;}
					h4 {
						margin-bottom: 40px;
						.ffamily(28px, @font-minion);
					}
					img {
						margin-top: 35px;
						max-height: 120px;
						width: auto;
					}
                    
                    .organizer-social-icons {
                        .absolute;
                        .bottomright(2px, 2px);
                        height: 32px;
                        
                        a {
                            display: inline-block;
                            width: 32px;
                            height: 32px;
                            
                            &.twitter-link{ background: url('/images/layout/twitter-icon.png'); }
                            &.facebook-link{ background: url('/images/layout/fb-icon.png'); }
                            &.website-link{ background: url('/images/layout/website-icon.png'); }
                            
                            &:hover {                  
                                filter : alpha(opacity=60);
                                opacity: 0.6;
                            }
                        
                        }
                    }
				}
			}
		}
	}
}
